<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of spk_TrialNum</title>
  <meta name="keywords" content="spk_TrialNum">
  <meta name="description" content="returns and check for number of trials in @al_spk object">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../index.html">Home</a> &gt;  <a href="index.html">@al_spk</a> &gt; spk_TrialNum.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../index.html"><img alt="<" border="0" src="../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for @al_spk&nbsp;<img alt=">" border="0" src="../right.png"></a></td></tr></table>-->

<h1>spk_TrialNum
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>returns and check for number of trials in @al_spk object</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>function total = spk_TrialNum(s) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre class="comment"> returns and check for number of trials in @al_spk object
 function total = spk_numtrials(s)

 total ... total number of trials</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="error.html" class="code" title="function msgOut = error(s,msgIn,caller)">error</a>	Report an error that occurred in a spike object</li></ul>
This function is called by:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="spk_Align.html" class="code" title="function s = spk_align(s,aligntimes,mode)">spk_Align</a>	align all time data</li><li><a href="spk_AnalogAlign.html" class="code" title="function s = spk_AnalogAlign(s,ChanName,AlignTime)">spk_AnalogAlign</a>	Aligns values of analog channel to value at a given point in time.</li><li><a href="spk_AnalogCircularMean.html" class="code" title="function [Th,R,Xm,Ym] = spk_AnalogCircularMean(s,ChanName,TimeWin)">spk_AnalogCircularMean</a>	Calculate mean value of analog channel with circular data</li><li><a href="spk_AnalogEventWindow.html" class="code" title="function [b,t,tVec] = spk_AnalogEventWindow(s,Ev,EvOffset)">spk_AnalogEventWindow</a>	returns start and end bins of a window defined by an event(s)</li><li><a href="spk_AnalogFiltFiltButter.html" class="code" title="function s = spk_AnalogFiltFiltButter(s,n,cutoff,ftype,ChanName)">spk_AnalogFiltFiltButter</a>	Applies a butterworth filter via filtfilt function.</li><li><a href="spk_AnalogFindPeaks.html" class="code" title="function [maxT,maxV,minT,minV,platT,platV,mxi,mni,pli] = spk_AnalogFindPeaks(s,TW,ChanName,endflag)">spk_AnalogFindPeaks</a>	finds extrem values as well as plateaus</li><li><a href="spk_AnalogFindZeros.html" class="code" title="function [zeroT,zeroV,zeroB] = spk_AnalogFindZeros(s,TW,ChanName)">spk_AnalogFindZeros</a>	finds zero bins</li><li><a href="spk_AnalogLine.html" class="code" title="function [h,s] = spk_AnalogLine(s,ChanName,TimeWin,TrialSpread,varargin)">spk_AnalogLine</a>	Plots line objects of current analog trials into current axes.</li><li><a href="spk_AnalogLineXY.html" class="code" title="function [h,s] = spk_AnalogLineXY(s,XChanName,YChanName,TimeWin,varargin)">spk_AnalogLineXY</a>	Plots two analog channels (X vs Y) of current trials into current axes.</li><li><a href="spk_AnalogMean.html" class="code" title="function [M,STD,SE,tx,DATA] = spk_AnalogMean(s,ChanName,TimeWin)">spk_AnalogMean</a>	Calculate mean value of analog channel</li><li><a href="spk_AnalogPrctile.html" class="code" title="function [P,DATA] = spk_AnalogPrctile(s,Prc,ChanName,TimeWin)">spk_AnalogPrctile</a>	Calculate percentiles of analog channel</li><li><a href="spk_AnalogRemoveLine.html" class="code" title="function s = spk_AnalogRemoveLine(s,Fl,x1,x2,doPlot)">spk_AnalogRemoveLine</a>	fits a sine wave of frequency f to each trial and substract the mean</li><li><a href="spk_AnalogRemoveLineAlex.html" class="code" title="function s = spk_AnalogRemoveLineAlex(s,n,cutoff,ChanName)">spk_AnalogRemoveLineAlex</a>	Removes line noise via method suggested by Alex.</li><li><a href="spk_AnalogRemoveLineWin.html" class="code" title="function s = spk_AnalogRemoveLineWin(s,Fl,WinEv,doPlot)">spk_AnalogRemoveLineWin</a>	fits a sine wave of frequency f to each trial and substract the mean</li><li><a href="spk_AnalogRemoveSine.html" class="code" title="function [s,Amp,Theta] = spk_AnalogRemoveSine(s,f,Ev,EvOffset)">spk_AnalogRemoveSine</a>	fits a sine wave of frequency f to each trial and subtract the mean</li><li><a href="spk_AnalogXCorr.html" class="code" title="function [c,lags] = spk_AnalogXCorr(s,SigChan,RefChan,TW)">spk_AnalogXCorr</a>	cross correlation between two channels</li><li><a href="spk_CheckCurrentTrials.html" class="code" title="function [out,s] = spk_CheckCurrentTrials(s,SetAllIfEmpty)">spk_CheckCurrentTrials</a>	</li><li><a href="spk_SpikeRevCorr.html" class="code" title="function [r,c,n] = spk_SpikeRevCorr(s,OnsetEvent,Win,Tau,SeqIndex,SeqLength)">spk_SpikeRevCorr</a>	count spikes related to reverse correlation stimulus</li><li><a href="spk_TrialEventLimit.html" class="code" title="function [TimeWin,AlignTimes,s] = spk_TrialEventLimit(s)">spk_TrialEventLimit</a>	returns the time window between earliest and latest event of</li><li><a href="spk_TrialEventWindow.html" class="code" title="function [TimeWin,AlignTimes,s] = spk_TrialEventWindow(s,LoEventLabel,HiEventLabel,EventNr)">spk_TrialEventWindow</a>	returns the time window between two specified events</li><li><a href="spk_getAnalog.html" class="code" title="function [x,T,bwidth,bwin] = spk_getAnalog(s,TimeWin,ChanName,Event)">spk_getAnalog</a>	extracts analog data from the object.</li><li><a href="spk_getEventWindow.html" class="code" title="function [Win,EvTimes] = spk_getEventWindow(s,Ev,EvOffset)">spk_getEventWindow</a>	returns start and end time of a window defined by an event(s)</li><li><a href="spk_getSpikes.html" class="code" title="function [spks,tWin] = spk_getSpikes(s,tWin,Ev)">spk_getSpikes</a>	get the spikes within a time window</li></ul>
<!-- crossreference -->


<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function total = spk_TrialNum(s)</a>
0002 
0003 <span class="comment">% returns and check for number of trials in @al_spk object</span>
0004 <span class="comment">% function total = spk_numtrials(s)</span>
0005 <span class="comment">%</span>
0006 <span class="comment">% total ... total number of trials</span>
0007 
0008 
0009 <span class="comment">% check trial numbers</span>
0010 nTrials = zeros(1,6);
0011 
0012 nTrials(1) = size(s.spk,2);
0013 nTrials(2) = size(s.events,2);
0014 nTrials(3) = size(s.align,2);
0015 nTrials(4) = size(s.trialcode,2);
0016 nTrials(5) = size(s.stimulus,2);
0017 
0018 <span class="comment">% nAnalogTrials = cellfun('size',s.analog,1);</span>
0019 
0020 
0021 <span class="keyword">if</span> any(nTrials==0 | isnan(nTrials))
0022     nTrials = nTrials(nTrials~=0 &amp; ~isnan(nTrials));
0023 <span class="comment">%     warning('spk_numtrials: empty fields in object !');</span>
0024 <span class="keyword">end</span>
0025 <span class="keyword">if</span> isempty(nTrials)
0026     nTrials = 0;
0027 <span class="keyword">end</span>
0028 
0029 total = unique(nTrials);
0030 <span class="keyword">if</span> length(total)&gt;1
0031     <a href="error.html" class="code" title="function msgOut = error(s,msgIn,caller)">error</a>(<span class="string">'inconsistency in number of trials !!!'</span>);
0032 <span class="keyword">end</span>
0033 
0034 <span class="comment">% function nTrials = check_array(x,dim)</span>
0035 <span class="comment">% if isempty(x)</span>
0036 <span class="comment">%     nTrials = NaN;</span>
0037 <span class="comment">% elseif iscell(x)</span>
0038 <span class="comment">%     nTrials = cellfun('size',x,dim);</span>
0039 <span class="comment">% elseif isnumeric(x)</span>
0040 <span class="comment">%     nTrials = size(x,dim);</span>
0041 <span class="comment">% end</span></pre></div>
<hr><address>Generated on Thu 05-Nov-2009 11:31:16 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/">m2html</a></strong> &copy; 2003</address>
</body>
</html>